{"ast":null,"code":"import _slicedToArray from\"/Users/vikramgrover/Documents/coding/pathfinding-algorithms-visualizer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import Grid from'./components/Grid.js';import Header from'./components/Header.js';import InfoBox from'./components/InfoBox.js';import Footer from'./components/Footer.js';import{allPathAlgos,nodeTypeEnum}from'./utils/constants.js';import{useState,useEffect}from'react';import{isAlgoUnweighted}from'./utils/helper.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),gridState=_useState2[0],setGridState=_useState2[1];var _useState3=useState('wall'),_useState4=_slicedToArray(_useState3,2),selectedObstacle=_useState4[0],setSelectedObstacle=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),infoBoxOpen=_useState6[0],setInfoBoxOpen=_useState6[1];var _useState7=useState(allPathAlgos[0]),_useState8=_slicedToArray(_useState7,2),selectedAlgo=_useState8[0],setSelectedAlgo=_useState8[1];var _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),rows=_useState10[0],setRows=_useState10[1];var _useState11=useState(0),_useState12=_slicedToArray(_useState11,2),cols=_useState12[0],setCols=_useState12[1];var _useState13=useState('0:0'),_useState14=_slicedToArray(_useState13,2),startCord=_useState14[0],setStartCord=_useState14[1];var _useState15=useState('0:0'),_useState16=_slicedToArray(_useState15,2),targetCord=_useState16[0],setTargetCord=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),runningAlgo=_useState18[0],setRunningAlgo=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),weightedObsDisabled=_useState20[0],setWeightedObsDisabled=_useState20[1];var margin=30;var nodeSize=28;var navBarHeight=90;var footerHeight=15;useEffect(function(){initializeGrid();},[]);// useEffect(() => {\n//   window.addEventListener(\"resize\", resizeGrid);\n//   return () => window.removeEventListener(\"resize\", resizeGrid);\n// }, []);\nvar initializeGrid=function initializeGrid(){var adjustedWinHeight=window.innerHeight-(navBarHeight+margin*3)-footerHeight;var adjustedWinWidth=window.innerWidth-2*margin;var currRows=parseInt(adjustedWinHeight/(nodeSize+1));var currCols=parseInt(adjustedWinWidth/(nodeSize+1));setRunningAlgo(false);setRows(currRows);setCols(currCols);setStartCord('1:1');setTargetCord(\"\".concat(currRows-2,\":\").concat(currCols-2));};var clearPath=function clearPath(){for(var x=0;x<rows;x++){var _loop=function _loop(y){var id=\"\".concat(x,\":\").concat(y);var nodeState=gridState[id][0];var nodeStateFunc=gridState[id][1];var currState=nodeState[0];if((currState===nodeTypeEnum.start||currState===nodeTypeEnum.target)&&nodeState[1]<=nodeTypeEnum.visiting){nodeState.splice(1,1);}else if(currState<=nodeTypeEnum.visiting){nodeState.splice(0,1);}nodeStateFunc(function(prevState){return nodeState;});};for(var y=0;y<cols;y++){_loop(y);}}};var clearObstacles=function clearObstacles(){var gridMap={};var updateGrid=false;for(var x=0;x<rows;x++){var _loop2=function _loop2(y){var id=\"\".concat(x,\":\").concat(y);var nodeState=gridState[id][0];var nodeStateFunc=gridState[id][1];var currState=nodeState[0];gridMap[id]=[nodeState,nodeStateFunc];// check under start and target node for obstacle\nif((currState===nodeTypeEnum.start||currState===nodeTypeEnum.target)&&nodeState[1]>=nodeTypeEnum.wall){updateGrid=true;nodeState.splice(1,1);nodeStateFunc(function(prev){return nodeState;});gridMap[id]=[nodeState,nodeStateFunc];return\"continue\";}if(currState<=nodeTypeEnum.visiting){currState=nodeState[1];}if(currState>=nodeTypeEnum.wall){updateGrid=true;nodeStateFunc(function(prev){return[nodeTypeEnum.none];});gridMap[id]=[[nodeTypeEnum.none],nodeStateFunc];}};for(var y=0;y<cols;y++){var _ret=_loop2(y);if(_ret===\"continue\")continue;}}if(updateGrid){setGridState(function(prevState){return gridMap;});}};var clearWeightedObstacles=function clearWeightedObstacles(){var gridMap={};var updateGrid=false;for(var x=0;x<rows;x++){var _loop3=function _loop3(y){var id=\"\".concat(x,\":\").concat(y);var nodeState=gridState[id][0];var nodeStateFunc=gridState[id][1];var currState=nodeState[0];gridMap[id]=[nodeState,nodeStateFunc];// check under start and target node for weighted obstacle\nif((currState===nodeTypeEnum.start||currState===nodeTypeEnum.target)&&nodeState[1]>nodeTypeEnum.wall){updateGrid=true;nodeState.splice(1,1);nodeStateFunc(function(prev){return nodeState;});gridMap[id]=[nodeState,nodeStateFunc];return\"continue\";}if(currState<=nodeTypeEnum.visiting){currState=nodeState[1];}if(currState>nodeTypeEnum.wall){updateGrid=true;nodeStateFunc(function(prev){return[nodeTypeEnum.none];});gridMap[id]=[[nodeTypeEnum.none],nodeStateFunc];}};for(var y=0;y<cols;y++){var _ret2=_loop3(y);if(_ret2===\"continue\")continue;}}if(updateGrid){setGridState(function(prevState){return gridMap;});}};var resetGrid=function resetGrid(){var gridMap={};for(var x=0;x<rows;x++){var _loop4=function _loop4(y){var id=\"\".concat(x,\":\").concat(y);var nodeState=gridState[id][0];var nodeStateFunc=gridState[id][1];var currState=nodeState[0];var newState=[nodeTypeEnum.none];if(currState===nodeTypeEnum.start||currState===nodeTypeEnum.target){newState.unshift(currState);}nodeStateFunc(function(prev){return newState;});gridMap[id]=[newState,nodeStateFunc];};for(var y=0;y<cols;y++){_loop4(y);}}setGridState(function(prevState){return gridMap;});};var toggleInfoBox=function toggleInfoBox(){setInfoBoxOpen(function(prevState){return!prevState;});};var alteredSetSelectedAlgo=function alteredSetSelectedAlgo(algoName){var unweightedAlgo=isAlgoUnweighted(algoName);setWeightedObsDisabled(unweightedAlgo);setSelectedAlgo(algoName);if(unweightedAlgo){clearPath();clearWeightedObstacles();}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{rows:rows,cols:cols,runningAlgo:runningAlgo,setRunningAlgo:setRunningAlgo,padding:margin,height:navBarHeight,gridState:gridState,setGridState:setGridState,startCord:startCord,targetCord:targetCord,clearObstacles:clearObstacles,clearPath:clearPath,setSelectedObstacle:setSelectedObstacle,weightedObsDisabled:weightedObsDisabled,toggleInfoBox:toggleInfoBox,selectedAlgo:selectedAlgo,setSelectedAlgo:alteredSetSelectedAlgo,resetGrid:resetGrid}),/*#__PURE__*/_jsx(Grid,{rows:rows,cols:cols,padding:margin,nodeSize:nodeSize,setGridState:setGridState,selectedObstacle:selectedObstacle,setStartCord:setStartCord,setTargetCord:setTargetCord,runningAlgo:runningAlgo}),/*#__PURE__*/_jsx(InfoBox,{infoBoxOpen:infoBoxOpen,toggleInfoBox:toggleInfoBox,selectedAlgo:selectedAlgo,startingPos:[window.innerWidth/2-285,navBarHeight+margin*2]}),/*#__PURE__*/_jsx(Footer,{})]});}export default App;","map":{"version":3,"sources":["/Users/vikramgrover/Documents/coding/pathfinding-algorithms-visualizer/src/App.js"],"names":["Grid","Header","InfoBox","Footer","allPathAlgos","nodeTypeEnum","useState","useEffect","isAlgoUnweighted","App","gridState","setGridState","selectedObstacle","setSelectedObstacle","infoBoxOpen","setInfoBoxOpen","selectedAlgo","setSelectedAlgo","rows","setRows","cols","setCols","startCord","setStartCord","targetCord","setTargetCord","runningAlgo","setRunningAlgo","weightedObsDisabled","setWeightedObsDisabled","margin","nodeSize","navBarHeight","footerHeight","initializeGrid","adjustedWinHeight","window","innerHeight","adjustedWinWidth","innerWidth","currRows","parseInt","currCols","clearPath","x","y","id","nodeState","nodeStateFunc","currState","start","target","visiting","splice","prevState","clearObstacles","gridMap","updateGrid","wall","prev","none","clearWeightedObstacles","resetGrid","newState","unshift","toggleInfoBox","alteredSetSelectedAlgo","algoName","unweightedAlgo"],"mappings":"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","sourcesContent":["import Grid from './components/Grid.js'\nimport Header from './components/Header.js'\nimport InfoBox from './components/InfoBox.js'\nimport Footer from './components/Footer.js'\n\nimport { allPathAlgos, nodeTypeEnum } from './utils/constants.js'\nimport { useState, useEffect } from 'react'\nimport { isAlgoUnweighted } from './utils/helper.js'\n\nfunction App() {\n  const [gridState, setGridState] = useState({});\n  const [selectedObstacle, setSelectedObstacle] = useState('wall');\n  const [infoBoxOpen, setInfoBoxOpen] = useState(false);\n  const [selectedAlgo, setSelectedAlgo] = useState(allPathAlgos[0]);\n  const [rows, setRows] = useState(0);\n  const [cols, setCols] = useState(0);\n  const [startCord, setStartCord] = useState('0:0');\n  const [targetCord, setTargetCord] = useState('0:0');\n  const [runningAlgo, setRunningAlgo] = useState(false);\n  const [weightedObsDisabled, setWeightedObsDisabled] = useState(false);\n  const margin = 30;\n  const nodeSize = 28;\n  const navBarHeight = 90;\n  const footerHeight = 15;\n\n  useEffect(() => {\n    initializeGrid();\n  }, []);\n\n  // useEffect(() => {\n  //   window.addEventListener(\"resize\", resizeGrid);\n  //   return () => window.removeEventListener(\"resize\", resizeGrid);\n  // }, []);\n\n  const initializeGrid = () => {\n    const adjustedWinHeight = window.innerHeight - (navBarHeight + (margin * 3)) - footerHeight;\n    const adjustedWinWidth = window.innerWidth - (2 * margin);\n\n    const currRows = parseInt(adjustedWinHeight / (nodeSize + 1));\n    const currCols = parseInt(adjustedWinWidth / (nodeSize + 1));\n\n    setRunningAlgo(false);\n    setRows(currRows);\n    setCols(currCols);\n    setStartCord('1:1');\n    setTargetCord(`${currRows - 2}:${currCols - 2}`);\n  };\n\n  const clearPath = () => {\n    for (let x = 0; x < rows; x++) {\n      for (let y = 0; y < cols; y++) {\n        let id = `${x}:${y}`;\n        let nodeState = gridState[id][0];\n        let nodeStateFunc = gridState[id][1];\n        let currState = nodeState[0];\n\n        if ((currState === nodeTypeEnum.start || currState === nodeTypeEnum.target) && (nodeState[1] <= nodeTypeEnum.visiting)) {\n          nodeState.splice(1, 1);\n        }\n        else if (currState <= nodeTypeEnum.visiting) {\n          nodeState.splice(0, 1);\n        }\n\n        nodeStateFunc(prevState => nodeState);\n      }\n    }\n  };\n\n  const clearObstacles = () => {\n    let gridMap = {};\n    let updateGrid = false;\n    for (let x = 0; x < rows; x++) {\n      for (let y = 0; y < cols; y++) {\n        let id = `${x}:${y}`;\n        let nodeState = gridState[id][0];\n        let nodeStateFunc = gridState[id][1];\n        let currState = nodeState[0];\n\n        gridMap[id] = [nodeState, nodeStateFunc];\n\n        // check under start and target node for obstacle\n        if ((currState === nodeTypeEnum.start || currState === nodeTypeEnum.target) && (nodeState[1] >= nodeTypeEnum.wall)) {\n          updateGrid = true;\n          nodeState.splice(1, 1);\n          nodeStateFunc(prev => nodeState);\n          gridMap[id] = [nodeState, nodeStateFunc];\n          continue;\n        }\n\n        if (currState <= nodeTypeEnum.visiting) {\n          currState = nodeState[1];\n        }\n\n        if (currState >= nodeTypeEnum.wall) {\n          updateGrid = true;\n          nodeStateFunc(prev => [nodeTypeEnum.none]);\n          gridMap[id] = [[nodeTypeEnum.none], nodeStateFunc];\n        }\n      }\n    }\n\n    if (updateGrid) {\n      setGridState(prevState => gridMap);\n    }\n  };\n\n  const clearWeightedObstacles = () => {\n    let gridMap = {};\n    let updateGrid = false;\n    for (let x = 0; x < rows; x++) {\n      for (let y = 0; y < cols; y++) {\n        let id = `${x}:${y}`;\n        let nodeState = gridState[id][0];\n        let nodeStateFunc = gridState[id][1];\n        let currState = nodeState[0];\n\n        gridMap[id] = [nodeState, nodeStateFunc];\n\n        // check under start and target node for weighted obstacle\n        if ((currState === nodeTypeEnum.start || currState === nodeTypeEnum.target) && (nodeState[1] > nodeTypeEnum.wall)) {\n          updateGrid = true;\n          nodeState.splice(1, 1);\n          nodeStateFunc(prev => nodeState);\n          gridMap[id] = [nodeState, nodeStateFunc];\n          continue;\n        }\n\n        if (currState <= nodeTypeEnum.visiting) {\n          currState = nodeState[1];\n        }\n\n        if (currState > nodeTypeEnum.wall) {\n          updateGrid = true;\n          nodeStateFunc(prev => [nodeTypeEnum.none]);\n          gridMap[id] = [[nodeTypeEnum.none], nodeStateFunc];\n        }\n      }\n    }\n\n    if (updateGrid) {\n      setGridState(prevState => gridMap);\n    }\n  };\n\n  const resetGrid = () => {\n    let gridMap = {};\n    for (let x = 0; x < rows; x++) {\n      for (let y = 0; y < cols; y++) {\n        let id = `${x}:${y}`;\n        let nodeState = gridState[id][0];\n        let nodeStateFunc = gridState[id][1];\n        let currState = nodeState[0];\n        let newState = [nodeTypeEnum.none];\n\n        if (currState === nodeTypeEnum.start || currState === nodeTypeEnum.target) {\n          newState.unshift(currState);\n        }\n\n        nodeStateFunc(prev => newState);\n        gridMap[id] = [newState, nodeStateFunc];\n      }\n    }\n\n    setGridState(prevState => gridMap);\n  };\n\n  const toggleInfoBox = () => {\n    setInfoBoxOpen(prevState => !prevState);\n  };\n\n  const alteredSetSelectedAlgo = (algoName) => {\n    const unweightedAlgo = isAlgoUnweighted(algoName);\n    setWeightedObsDisabled(unweightedAlgo);\n    setSelectedAlgo(algoName);\n    if (unweightedAlgo) {\n      clearPath();\n      clearWeightedObstacles();\n    }\n  };\n\n  return (\n    <>\n      <Header rows={rows} cols={cols} runningAlgo={runningAlgo} setRunningAlgo={setRunningAlgo} padding={margin} height={navBarHeight} gridState={gridState} setGridState={setGridState} startCord={startCord} targetCord={targetCord} clearObstacles={clearObstacles} clearPath={clearPath} setSelectedObstacle={setSelectedObstacle} weightedObsDisabled={weightedObsDisabled} toggleInfoBox={toggleInfoBox} selectedAlgo={selectedAlgo} setSelectedAlgo={alteredSetSelectedAlgo} resetGrid={resetGrid} />\n      <Grid rows={rows} cols={cols} padding={margin} nodeSize={nodeSize} setGridState={setGridState} selectedObstacle={selectedObstacle} setStartCord={setStartCord} setTargetCord={setTargetCord} runningAlgo={runningAlgo} />\n      <InfoBox infoBoxOpen={infoBoxOpen} toggleInfoBox={toggleInfoBox} selectedAlgo={selectedAlgo} startingPos={[(window.innerWidth / 2) - 285, (navBarHeight + (margin * 2))]} />\n      <Footer />\n    </>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}